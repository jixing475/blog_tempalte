<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Feel like the cat that got the cream with {forcats}</title>

  <meta property="description" itemprop="description" content="Do mi do mi do so mi do &lt;br&gt;&#10;Every truly cultured tidyverse stud-ent knows &lt;br&gt;&#10;You must learn your forcats and your dplyr. &lt;br&gt;&#10;  -- Adapted from &#39;Scales and Arpeggios&#39; from the Aristocats"/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-01-31"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-01-31"/>
  <meta name="article:author" content="Vebash Naidoo"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Feel like the cat that got the cream with {forcats}"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Do mi do mi do so mi do &lt;br&gt;&#10;Every truly cultured tidyverse stud-ent knows &lt;br&gt;&#10;You must learn your forcats and your dplyr. &lt;br&gt;&#10;  -- Adapted from &#39;Scales and Arpeggios&#39; from the Aristocats"/>
  <meta property="og:image" content="https://sciencificity-blog.netlify.app/preview.jpg"/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary_large_image"/>
  <meta property="twitter:title" content="Feel like the cat that got the cream with {forcats}"/>
  <meta property="twitter:description" content="Do mi do mi do so mi do &lt;br&gt;&#10;Every truly cultured tidyverse stud-ent knows &lt;br&gt;&#10;You must learn your forcats and your dplyr. &lt;br&gt;&#10;  -- Adapted from &#39;Scales and Arpeggios&#39; from the Aristocats"/>
  <meta property="twitter:image" content="https://sciencificity-blog.netlify.app/preview.jpg"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","base_url","output","categories","preview","draft"]}},"value":[{"type":"character","attributes":{},"value":["Feel like the cat that got the cream with {forcats}"]},{"type":"character","attributes":{},"value":["Do mi do mi do so mi do <br>\nEvery truly cultured tidyverse stud-ent knows <br>\nYou must learn your forcats and your dplyr. <br>\n  -- Adapted from 'Scales and Arpeggios' from the Aristocats\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Vebash Naidoo"]},{"type":"character","attributes":{},"value":["https://twitter.com/Sciencificity"]}]}]},{"type":"character","attributes":{},"value":["2021-01-31"]},{"type":"character","attributes":{},"value":["https://sciencificity-blog.netlify.app/"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth","self_contained","code_folding"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]},{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["Categorical Variables","Factors","forcats"]},{"type":"character","attributes":{},"value":["preview.jpg"]},{"type":"logical","attributes":{},"value":[true]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["1.jpg","control-your-factors-with-forcats_files/anchor-4.2.2/anchor.min.js","control-your-factors-with-forcats_files/bowser-1.9.3/bowser.min.js","control-your-factors-with-forcats_files/crosstalk-1.1.0.1/css/crosstalk.css","control-your-factors-with-forcats_files/crosstalk-1.1.0.1/js/crosstalk.js","control-your-factors-with-forcats_files/crosstalk-1.1.0.1/js/crosstalk.js.map","control-your-factors-with-forcats_files/crosstalk-1.1.0.1/js/crosstalk.min.js","control-your-factors-with-forcats_files/crosstalk-1.1.0.1/js/crosstalk.min.js.map","control-your-factors-with-forcats_files/datatables-binding-0.16/datatables.js","control-your-factors-with-forcats_files/datatables-css-0.0.0/datatables-crosstalk.css","control-your-factors-with-forcats_files/distill-2.2.21/template.v2.js","control-your-factors-with-forcats_files/dt-core-1.10.20/css/jquery.dataTables.extra.css","control-your-factors-with-forcats_files/dt-core-1.10.20/css/jquery.dataTables.min.css","control-your-factors-with-forcats_files/dt-core-1.10.20/js/jquery.dataTables.min.js","control-your-factors-with-forcats_files/header-attrs-2.6.6/header-attrs.js","control-your-factors-with-forcats_files/htmlwidgets-1.5.1/htmlwidgets.js","control-your-factors-with-forcats_files/jquery-1.11.3/jquery.min.js","control-your-factors-with-forcats_files/jquery-1.12.4/jquery.min.js","control-your-factors-with-forcats_files/jquery-1.12.4/LICENSE.txt","control-your-factors-with-forcats_files/nouislider-7.0.10/jquery.nouislider.min.css","control-your-factors-with-forcats_files/nouislider-7.0.10/jquery.nouislider.min.js","control-your-factors-with-forcats_files/popper-2.6.0/popper.min.js","control-your-factors-with-forcats_files/selectize-0.12.0/selectize.bootstrap3.css","control-your-factors-with-forcats_files/selectize-0.12.0/selectize.min.js","control-your-factors-with-forcats_files/tippy-6.2.7/tippy-bundle.umd.min.js","control-your-factors-with-forcats_files/tippy-6.2.7/tippy-light-border.css","control-your-factors-with-forcats_files/tippy-6.2.7/tippy.css","control-your-factors-with-forcats_files/tippy-6.2.7/tippy.umd.min.js","control-your-factors-with-forcats_files/webcomponents-2.0.0/webcomponents.js","preview.jpg"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="control-your-factors-with-forcats_files/header-attrs-2.6.6/header-attrs.js"></script>
  <script src="control-your-factors-with-forcats_files/htmlwidgets-1.5.1/htmlwidgets.js"></script>
  <script src="control-your-factors-with-forcats_files/jquery-1.12.4/jquery.min.js"></script>
  <link href="control-your-factors-with-forcats_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
  <script src="control-your-factors-with-forcats_files/datatables-binding-0.16/datatables.js"></script>
  <link href="control-your-factors-with-forcats_files/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
  <link href="control-your-factors-with-forcats_files/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
  <script src="control-your-factors-with-forcats_files/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
  <link href="control-your-factors-with-forcats_files/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
  <script src="control-your-factors-with-forcats_files/nouislider-7.0.10/jquery.nouislider.min.js"></script>
  <link href="control-your-factors-with-forcats_files/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
  <script src="control-your-factors-with-forcats_files/selectize-0.12.0/selectize.min.js"></script>
  <link href="control-your-factors-with-forcats_files/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
  <script src="control-your-factors-with-forcats_files/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
  <script src="control-your-factors-with-forcats_files/popper-2.6.0/popper.min.js"></script>
  <link href="control-your-factors-with-forcats_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="control-your-factors-with-forcats_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="control-your-factors-with-forcats_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="control-your-factors-with-forcats_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="control-your-factors-with-forcats_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="control-your-factors-with-forcats_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="control-your-factors-with-forcats_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Feel like the cat that got the cream with {forcats}","description":"Do mi do mi do so mi do <br>\nEvery truly cultured tidyverse stud-ent knows <br>\nYou must learn your forcats and your dplyr. <br>\n  -- Adapted from 'Scales and Arpeggios' from the Aristocats","authors":[{"author":"Vebash Naidoo","authorURL":"https://twitter.com/Sciencificity","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-01-31T00:00:00.000+02:00","citationText":"Naidoo, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Feel like the cat that got the cream with {forcats}</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">Categorical Variables</div>
<div class="dt=tag">Factors</div>
<div class="dt=tag">forcats</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>Do mi do mi do so mi do <br> Every truly cultured tidyverse stud-ent knows <br> You must learn your forcats and your dplyr. <br> – Adapted from ‘Scales and Arpeggios’ from the Aristocats</p></p>
</div>

<div class="d-byline">
  Vebash Naidoo <a href="https://twitter.com/Sciencificity" class="uri">https://twitter.com/Sciencificity</a> 
  
<br/>2021-01-31
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#terminology">Terminology</a>
<ul>
<li><a href="#numerical-quantitative-data">Numerical (Quantitative) data:</a></li>
<li><a href="#non-numerical-qualitative-data">Non-Numerical (Qualitative) data:</a></li>
</ul></li>
<li><a href="#forcats">{forcats}</a>
<ul>
<li><a href="#data">Data</a></li>
<li><a href="#convert-variable-to-factor">Convert variable to factor</a>
<ul>
<li><a href="#factor">factor()</a></li>
<li><a href="#as.factor">as.factor()</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
</div>
<!-- Picture on main page -->
<!-- <span>Photo by <a href="https://unsplash.com/@v2osk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">v2osk</a> on <a href="https://unsplash.com/s/photos/categories?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span> -->
<div class="layout-chunk" data-layout="l-body">
<style type="text/css">
blockquote {
  background: #f9f9f9;
  border-left: 10px solid #ccc;
  margin: 1.5em 10px;
  padding: 0.5em 10px;
  quotes: "\201C""\201D""\2018""\2019";
}
blockquote:before {
  color: #ccc;
  content: open-quote;
  font-size: 4em;
  line-height: 0.1em;
  margin-right: 0.25em;
  vertical-align: -0.4em;
}
blockquote p {
  display: inline;
}
</style>
</div>
<figure class="quote">
<blockquote>
No need to be a scared-y cat, “A lot of good tricks. I will show them to you. Your mother will not mind at all if I do.”
</blockquote>
<figcaption>
— The Cat In The Hat
</figcaption>
</figure>
<p><img src = 1.jpg  width = 600px></p>
<p><span>Photo by <a href="https://unsplash.com/@miklevasilyev?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">MIKHAIL VASILYEV</a> on <a href="https://unsplash.com/s/photos/cat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></p>
<h1 id="terminology">Terminology</h1>
<p>To set the stage, let’s talk about the types of data. These are concepts more for beginners, so if you’re familiar with these please feel free to skip ahead.</p>
<p>We have two types of data:</p>
<ul>
<li>Numerical data, also known as <code>Quantitative</code> data.</li>
<li>Non-Numerical data, also known as <code>Qualitative</code> data (this is what we will be concentrating on in this post).</li>
</ul>
<h3 id="numerical-quantitative-data">Numerical (Quantitative) data:</h3>
<ul>
<li><p>Takes on number values:</p>
<ul>
<li><p>Discrete: These are for example count values 0, 1, 2 - how many people took the survey, how many cats do you have in your home, how many children are there in a household?</p></li>
<li><p>Continuous: These are numbers that can take on infinite values within some range of values - percentage of survey filled by respondents (e.g. 21.562%, 67.893%, 90.145%), heights of siberian cats (30.167 cm, 31.458 cm, 28.624 cm).</p></li>
</ul></li>
<li><p>It makes sense to take the average of numerical data, and to do other arithmetic on numeric data, such as to add, subtract etc.</p></li>
<li><p>For example, it’s easy to say, in our sample the tallest siberian cat is 1.291 centimetres taller than the shortest siberian cat.</p></li>
</ul>
<h3 id="non-numerical-qualitative-data">Non-Numerical (Qualitative) data:</h3>
<ul>
<li><p>Also known as <strong>categorical data</strong>, since it can take on some number of distinct categories e.g. eye colour, favourite rock band, even names if you think about it fall under categorical data, albeit voluminous categories may be present in such a <code>name</code> variable.</p></li>
<li><p>The categories are distinct - Siberian cat, Cornish Rex, Russian Blue - and may be <em>represented</em> as numbers.</p>
<ul>
<li>For example, you may have a survey question with the following categories:</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Category</th>
<th style="text-align: right;">Level Number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Very Likely</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">Likely</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Uncertain</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">Unlikely</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Very Unlikely</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
<ul>
<li>Or, you may have a question asking a participant which of your favourite songs they enjoy the most, with the following categories:</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Category</th>
<th style="text-align: right;">Level Number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Sweet Child O’ mine</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">Smells Like Teen Spirit</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Hotel California</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">Best of You</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Numb</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">Unfamiliar with all of these</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table></li>
<li><p>The numbers (<code>Level Number</code>) are basically placeholders for each category level, and is meant for us to work with it easier in a programming language. If I get the responses:<br></p>
<pre><code>5, 2, 1, 2, 5, 2, 1, 5, 2, 5, 1, 1, 2</code></pre>
<p>I can’t say <em>Numb</em> is 4x better or 4x worse than <em>Sweet Child O’ mine</em>, or that <em>Hotel California</em> is the average category chosen (notice it was not chosen once) but if I take the average of numerical placeholders for the responses received, I would get 2.6153846 which is 3 if I round up. In other words, We can’t understand what the “average” song is.</p></li>
<li><p>So we have seen that it does not make sense to do arithmetic on these variables. The distance between the categories is not something that can be measured.</p></li>
<li><p>We can count each category, and understand that <em>Smells Like Teen Spirit</em> was the most popular among respondents.</p></li>
<li><p>Categorical data may be:</p>
<ul>
<li>Unordered, often refered to merely as Categorical data, or also known as <code>Nominal</code> data. For example, if your question is <code>What's your favourite Altoids flavour?</code> with the following options, while you may rank <em>Cinnamon</em> above <em>Wintergreen</em> there is no order to these categories! 😁.</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Fave Flavour</th>
<th style="text-align: right;">Level Number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Peppermint</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">Wintergreen</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Cinnamon</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">Spearmint</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Liqourice</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">None of these</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
<ul>
<li>Ordered, and hence called <code>Ordinal</code> data. Here’s another example using age categories - these are not numerical data, because the <code>Level Number</code> is merely a placeholder for the category, and we can’t do arithmetic on these. This is an <code>Ordinal</code> variable however, since there is some order to these.</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Age Range</th>
<th style="text-align: right;">Level Number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Younger than 21</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">21-30</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">31-45</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">46-55</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Older than 55</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table></li>
</ul>
<h1 id="forcats">{forcats}</h1>
<p>The forcats 📦 is meant to handle <code>factors</code> which is R’s data type for categorical data. There is much categorical data that is useful to work with as factors (age-ranges, occupation, etc.), we must also keep in mind that some categorical or qualitative data should be kept as <code>character</code> data.</p>
<p>We’re going to work with categorical data in this post, and learn how to use the forcats 📦 to make that task easier for us for qualitative data that truly are <strong>factors</strong> (I consider this to be data with some reasonable amount of categories. For instance I would hardly ever convert recipients name variable to a factor).</p>
<h2 id="data">Data</h2>
<p>We’re going to use the data from the awesome <a href="https://github.com/rfordatascience/tidytuesday">TidyTuesday Project</a> ❇️:</p>
<ul>
<li><a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2020/2020-03-31">Beer production data from 2020-03-31</a></li>
<li><a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2020/2020-10-20">Beer awards data from 2020-10-20</a>.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>&lt;-</span>
   <span class='fu'>read_csv</span><span class='op'>(</span>
    <span class='co'># hacky solution to show readers the full path of file</span>
    <span class='co'># str_glue just pastes the various strings next to each other</span>
    <span class='fu'>str_glue</span><span class='op'>(</span><span class='st'>'https://raw.githubusercontent.com/rfordatascience/'</span>,
            <span class='st'>'tidytuesday/master/data/2020/2020-03-31/'</span>,
            <span class='st'>'brewing_materials.csv'</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>beer_taxed</span> <span class='op'>&lt;-</span> 
    <span class='fu'>read_csv</span><span class='op'>(</span>
     <span class='fu'>str_glue</span><span class='op'>(</span><span class='st'>'https://raw.githubusercontent.com/rfordatascience/'</span>, 
              <span class='st'>'tidytuesday/master/data/2020/2020-03-31/'</span>,
              <span class='st'>'beer_taxed.csv'</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>brewer_size</span> <span class='op'>&lt;-</span> 
    <span class='fu'>read_csv</span><span class='op'>(</span>
     <span class='fu'>str_glue</span><span class='op'>(</span><span class='st'>'https://raw.githubusercontent.com/rfordatascience/'</span>,
     <span class='st'>'tidytuesday/master/data/2020/2020-03-31/'</span>,
     <span class='st'>'brewer_size.csv'</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>beer_states</span> <span class='op'>&lt;-</span> 
    <span class='fu'>read_csv</span><span class='op'>(</span>
     <span class='fu'>str_glue</span><span class='op'>(</span><span class='st'>'https://raw.githubusercontent.com/rfordatascience/'</span>, 
     <span class='st'>'tidytuesday/master/data/2020/2020-03-31/'</span>,
     <span class='st'>'beer_states.csv'</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>beer_awards</span> <span class='op'>&lt;-</span> 
    <span class='fu'>read_csv</span><span class='op'>(</span>
     <span class='fu'>str_glue</span><span class='op'>(</span><span class='st'>'https://raw.githubusercontent.com/rfordatascience/'</span>, 
     <span class='st'>'tidytuesday/master/data/2020/2020-10-20/'</span>,
     <span class='st'>'beer_awards.csv'</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Let’s have a look at the data - here we’re showing a sample of each table.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>sample_n</span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>filter <span class='op'>=</span> <span class='st'>'top'</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>scrollX <span class='op'>=</span> <span class='cn'>TRUE</span>,
                     pageLength <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,
    caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
      style <span class='op'>=</span> <span class='st'>'caption-side: bottom; text-align: center;'</span>,
     <span class='st'>'Table Name: '</span>, <span class='fu'>htmltools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>em</a></span><span class='op'>(</span><span class='st'>'Brewing Materials'</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-a4b3bcc5d6f054c4975d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a4b3bcc5d6f054c4975d">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"2008\" data-max=\"2017\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1\" data-max=\"12\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0\" data-max=\"613054686\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"124915\" data-max=\"601059238\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1270106\" data-max=\"5854827260\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"873714\" data-max=\"6124482040\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: center;\">\n  Table Name: \n  <em>Brewing Materials<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used"],["Total Used","Non-Grain Products","Non-Grain Products","Non-Grain Products","Total Grain products","Grain Products","Total Grain products","Grain Products","Non-Grain Products","Non-Grain Products","Grain Products","Grain Products","Grain Products","Non-Grain Products","Non-Grain Products","Non-Grain Products","Grain Products","Total Used","Non-Grain Products","Grain Products","Non-Grain Products","Non-Grain Products","Total Non-Grain products","Non-Grain Products","Non-Grain Products","Grain Products","Total Grain products","Non-Grain Products","Non-Grain Products","Total Grain products","Total Used","Total Grain products","Total Non-Grain products","Total Non-Grain products","Grain Products","Total Used","Non-Grain Products","Non-Grain Products","Grain Products","Total Non-Grain products","Total Used","Total Non-Grain products","Non-Grain Products","Non-Grain Products","Grain Products","Grain Products","Grain Products","Total Grain products","Non-Grain Products","Grain Products"],[2011,2016,2010,2016,2014,2016,2017,2008,2015,2011,2012,2013,2008,2009,2008,2009,2016,2016,2008,2015,2014,2014,2013,2013,2013,2008,2016,2009,2009,2014,2016,2011,2008,2017,2015,2011,2012,2013,2013,2010,2010,2011,2011,2014,2011,2010,2013,2009,2010,2011],[10,11,11,10,4,8,4,11,3,10,1,9,1,10,8,8,10,9,1,1,1,4,4,4,5,12,7,9,10,12,3,7,3,8,9,1,11,8,2,7,6,9,1,10,9,1,12,12,2,12],["Total Used","Other","Hops (used as extracts)","Sugar and syrups","Total Grain products","Corn and corn products","Total Grain products","Barley and barley products","Hops (used as extracts)","Hops (used as extracts)","Barley and barley products","Rice and rice products","Rice and rice products","Other","Hops (used as extracts)","Other","Corn and corn products","Total Used","Hops (dry)","Rice and rice products","Sugar and syrups","Hops (used as extracts)","Total Non-Grain products","Sugar and syrups","Hops (dry)","Rice and rice products","Total Grain products","Hops (used as extracts)","Sugar and syrups","Total Grain products","Total Used","Total Grain products","Total Non-Grain products","Total Non-Grain products","Wheat and wheat products","Total Used","Hops (dry)","Other","Malt and malt products","Total Non-Grain products","Total Used","Total Non-Grain products","Hops (dry)","Hops (used as extracts)","Wheat and wheat products","Wheat and wheat products","Corn and corn products","Total Grain products","Sugar and syrups","Wheat and wheat products"],[502502664,55017,281893,115864,433912621,205,9389310,3309266,321462,306588,5391781,53400257,72402143,8944515,377424,10315854,0,19460256,4506546,52438465,72039259,321444,114296040,92273777,10286943,61716256,12520034,305344,47840939,239549619,23246851,475941453,88381312,217425,3829592,583263134,10621547,13373297,311283986,98630168,613054686,79413272,6059066,334633,2260859,1409685,48242094,409132331,46718854,1612682],[533059116,5463232,289240,1533449,449383581,124915,35389691,4003419,918870,293914,5265988,62349936,81050102,1568431,506950,1671801,135151,141138966,2037754,52438465,72879470,302727,99202416,77370856,12587512,61973102,103063181,338019,42888353,414345466,52754861,518305154,113698927,4201367,28214076,514672427,8468114,10627949,323703710,85813839,601059238,84971908,4765924,325324,2150923,873714,43813833,440611277,69375203,1588739],[5576678799,null,4033338,null,1741403395,null,null,52509586,null,3302024,5391781,578040830,72402143,84768249,4742617,64453056,null,null,4506546,null,72039259,1270106,407359928,322119540,48491993,815885939,null,3264706,647426679,5230534996,null,3350166597,257173583,null,null,583263134,111411157,98772814,637743284,584378622,3422742161,771236175,6059066,3347317,18963972,1409685,592598072,5854827260,94027212,23849805],[5718805086,null,3856410,null,1792038870,null,null,51027302,null,3751314,5265988,543956009,81050102,17154896,3982929,13853599,null,null,2037754,null,72879470,1333963,358733342,286982452,45719343,869462029,null,5081526,761596179,5421951073,null,3455559021,290833944,null,null,514672427,96047060,80670940,646071595,584601939,3530378886,762737379,4765924,3306744,18530387,873714,680596935,6124482040,137209772,22279062]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>data_type<\/th>\n      <th>material_type<\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>type<\/th>\n      <th>month_current<\/th>\n      <th>month_prior_year<\/th>\n      <th>ytd_current<\/th>\n      <th>ytd_prior_year<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[3,4,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_taxed</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>filter <span class='op'>=</span> <span class='st'>'top'</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>scrollX <span class='op'>=</span> <span class='cn'>TRUE</span>,
                     pageLength <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,    
    caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
      style <span class='op'>=</span> <span class='st'>'caption-side: bottom; text-align: center;'</span>,
     <span class='st'>'Table Name: '</span>, <span class='fu'>htmltools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>em</a></span><span class='op'>(</span><span class='st'>'Beer Taxed'</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-21292ff2b3356fa9b495" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-21292ff2b3356fa9b495">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1\" data-max=\"5\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0\" data-max=\"18269043\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0\" data-max=\"18465892\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0\" data-max=\"84810051\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0\" data-max=\"83798440\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: center;\">\n  Table Name: \n  <em>Beer Taxed<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced"],["Totals","Taxable","Taxable","Taxable","Sub Total Taxable","Tax Free","Tax Free","Tax Free","Sub Total Tax-Free","Totals","Totals","Totals","Taxable","Taxable","Taxable","Sub Total Taxable","Tax Free","Tax Free","Tax Free","Sub Total Tax-Free","Totals","Totals","Totals","Taxable","Taxable","Taxable","Sub Total Taxable","Tax Free","Tax Free","Tax Free","Sub Total Tax-Free","Totals","Totals","Totals","Taxable","Taxable","Taxable","Sub Total Taxable","Tax Free","Tax Free","Tax Free","Sub Total Tax-Free","Totals","Totals","Totals","Taxable","Taxable","Taxable","Sub Total Taxable","Tax Free"],[2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008],[1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5],["Production","In bottles and cans","In barrels and kegs","Tax Determined, Premises Use","Sub Total Taxable","For export","For vessels and aircraft","Consumed on brewery premises","Sub Total Tax-Free","Total Removals","Stocks On Hand end-of-month:","Production","In bottles and cans","In barrels and kegs","Tax Determined, Premises Use","Sub Total Taxable","For export","For vessels and aircraft","Consumed on brewery premises","Sub Total Tax-Free","Total Removals","Stocks On Hand end-of-month:","Production","In bottles and cans","In barrels and kegs","Tax Determined, Premises Use","Sub Total Taxable","For export","For vessels and aircraft","Consumed on brewery premises","Sub Total Tax-Free","Total Removals","Stocks On Hand end-of-month:","Production","In bottles and cans","In barrels and kegs","Tax Determined, Premises Use","Sub Total Taxable","For export","For vessels and aircraft","Consumed on brewery premises","Sub Total Tax-Free","Total Removals","Stocks On Hand end-of-month:","Production","In bottles and cans","In barrels and kegs","Tax Determined, Premises Use","Sub Total Taxable","For export"],[16211480,13222104,1371239,7426,14600769,262985,0,708,263693,14864462,10230147,15690494,13051864,1250974,7558,14310396,286593,0,671,287264,14597660,10497860,17367476,13901582,1449849,88816,15440247,309529,3,7417,316949,15757196,11192957,17254160,14361125,1457124,8561,15826810,361949,0,821,362770,16189580,11250055,18269043,15421462,1489290,8720,16919472,356217],[15880125,12824278,1357372,8419,14190069,268473,0,885,269358,14459427,10614074,15284087,12209114,1197553,8090,13414757,266301,0,732,267033,13681790,11277649,17388588,14386284,1514744,88291,15989319,306542,0,8624,315166,16304485,11406260,16777943,13720960,1323587,8230,15052777,325058,0,922,325980,15378757,11705240,18465892,15480560,1538454,8786,17027800,372808],[16211480,13222104,1371239,7426,14600769,262985,0,708,263693,14864462,10230147,31909489,26279336,2622225,15035,28916596,550005,0,1379,551384,29467980,20745169,49277784,40182359,4072222,103886,44358467,859534,3,8796,868333,45226800,31929810,66535007,54544594,5531773,113354,60189721,1221483,3,9605,1231091,61420812,43182802,84810051,69966780,7023496,123576,77113852,1577700],[15880125,12824278,1357372,8419,14190069,268473,0,885,269358,14459427,10614074,31164212,25033392,2554925,16509,27604826,534774,0,1617,536391,28141217,21891723,48552848,39419676,4069669,104834,43594179,841316,0,10241,851557,44445736,33298974,65331867,53140372,5394086,113569,58648027,1166374,0,11163,1177537,59825564,45004356,83798440,68620932,6932676,122701,75676309,1539182],["$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>data_type<\/th>\n      <th>tax_status<\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>type<\/th>\n      <th>month_current<\/th>\n      <th>month_prior_year<\/th>\n      <th>ytd_current<\/th>\n      <th>ytd_prior_year<\/th>\n      <th>tax_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[3,4,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewer_size</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>sample_n</span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>filter <span class='op'>=</span> <span class='st'>'top'</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>scrollX <span class='op'>=</span> <span class='cn'>TRUE</span>,
                     pageLength <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,
    caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
      style <span class='op'>=</span> <span class='st'>'caption-side: bottom; text-align: center;'</span>,
     <span class='st'>'Table Name: '</span>, <span class='fu'>htmltools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>em</a></span><span class='op'>(</span><span class='st'>'Brewer Size'</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-7cdc3e200fb134442a6e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7cdc3e200fb134442a6e">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"2009\" data-max=\"2019\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"4\" data-max=\"4577\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"4.43\" data-max=\"192015138.018\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"19432.26\" data-max=\"176113821.223\" data-scale=\"11\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"12\" data-max=\"6211297\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: center;\">\n  Table Name: \n  <em>Brewer Size<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],[2016,2016,2011,2012,2013,2013,2018,2019,2014,2011,2010,2013,2013,2014,2012,2018,2015,2009,2013,2012,2018,2013,2009,2017,2019,2013,2015,2015,2017,2016,2016,2019,2009,2014,2009,2010,2012,2010,2018,2015,2017,2016,2019,2016,2016,2012,2017,2013,2015,2014],["6,000,001 Barrels and Over","1,001 to 7,500 Barrels","1 to 1,000 Barrels","30,001 to 60,000 Barrels","6,000,001 Barrels and Over","30,001 to 60,000 Barrels","2,000,000 to 6,000,000 Barrels","2,000,000 to 6,000,000 Barrels","500,001 to 1,000,000 Barrels","1,001 to 7,500 Barrels","100,001 to 500,000 Barrels","1,000,001 to 1,999,999 Barrels","60,001 to 100,000 Barrels","1,001 to 7,500 Barrels","15,001 to 30,000 Barrels","6,000,001 Barrels and Over","2,000,000 to 6,000,000 Barrels","1,001 to 7,500 Barrels","100,001 to 500,000 Barrels","1,000,001 to 1,999,999 Barrels","Under 1 Barrel","7,501 to 15,000 Barrels","15,001 to 30,000 Barrels","500,001 to 1,000,000 Barrels","1 to 1,000 Barrels","1,001 to 7,500 Barrels","7,501 to 15,000 Barrels","30,001 to 60,000 Barrels","1,001 to 7,500 Barrels","Under 1 Barrel","2,000,000 to 6,000,000 Barrels","7,501 to 15,000 Barrels","60,001 to 100,000 Barrels","Total","500,001 to 1,000,000 Barrels","1,000,000 to 6,000,000 Barrels","60,001 to 100,000 Barrels","15,001 to 30,000 Barrels","100,001 to 500,000 Barrels","Total","7,501 to 15,000 Barrels","1,000,001 to 1,999,999 Barrels","Under 1 Barrel","500,001 to 1,000,000 Barrels","60,001 to 100,000 Barrels","500,001 to 1,000,000 Barrels","30,001 to 60,000 Barrels","500,001 to 1,000,000 Barrels","100,001 to 500,000 Barrels","6,000,001 Barrels and Over"],[14,935,1334,50,17,52,5,6,6,513,32,4,24,730,44,15,6,357,38,5,164,81,40,10,4577,645,133,56,1030,488,7,159,19,3373,7,5,20,40,42,4504,152,4,28,6,38,7,53,7,49,15],[131659359.17,2461722.99,458109.828000001,2179429.59,153023498.63,2271814.7,17410932.97,18344022.83,3836841.48,1254333.746,6123725.23,4821249.3,1824548.27,1959533.497,913884.27,131336734.02,23939648.17,859934.81,7637584.41,6864214.06,7.47,842820.06,895133.22,6253029.02,1321901.272,1693579.726,1427754.07,2453623.13,2656419.36,4.43,26452765.43,1680544.748,1501976.56,192015138.018,4831385.68,15450769.1,1468172.46,911065.75,8777286.22,191113018.04,1565335.71,4999263.95,18.3,4293996.9,3052311.48,4654830.64,2230144.53,4797758.09,10645528.1,138677888.13],[119774531.97,2282897.14,416612.282,1858876.353,141659034.45,1909650.87,17957039.46,18575155.74,3593230.98,1126835.821,5127607.785,4665737.17,1608488.44,1701354.397,764190.6,124471154.47,23001189.23,769155.15,6147217.43,6526545.81,142501.39,740591.81,750528.77,5720117.89,1293960.317,1479648.996,1203851.81,2185447.02,3626288.32,102983.4,25147830.59,1484609.204,1224618.44,176113821.223,4535659.48,14777149.88,1250720.93,781016.15,7630983.19,174844004.58,1556842.26,4994536.9,19432.26,4014943.39,2395062.26,3809078.87,1940812.97,4476211,8697815.57,127713535.8],[5066076,13608,580,62416,4385750,58028,734605,495136,9185,930,254925,35344,24431,12954,13281,5749122,731500,12,275310,75749,274,6428,19808,94410,2296,6369,25574,29356,11294,601,898290,3115,95732,5508662,21563,37401,97318,19077,170814,6211297,6874,47250,null,4748,48970,4634,27479,4972,336057,4331255]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>brewer_size<\/th>\n      <th>n_of_brewers<\/th>\n      <th>total_barrels<\/th>\n      <th>taxable_removals<\/th>\n      <th>total_shipped<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_states</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>sample_n</span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>filter <span class='op'>=</span> <span class='st'>'top'</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>scrollX <span class='op'>=</span> <span class='cn'>TRUE</span>,
                     pageLength <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,
    caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
      style <span class='op'>=</span> <span class='st'>'caption-side: bottom; text-align: center;'</span>,
     <span class='st'>'Table Name: '</span>, <span class='fu'>htmltools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>em</a></span><span class='op'>(</span><span class='st'>'Beer States'</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-4888b3256eb7066429fd" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-4888b3256eb7066429fd">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"2008\" data-max=\"2019\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"658.96\" data-max=\"19267902.29\" data-scale=\"12\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: center;\">\n  Table Name: \n  <em>Beer States<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["ND","IA","TX","NM","ID","SC","KY","WI","RI","CT","WI","CT","IA","MD","MD","AL","IN","MI","total","DC","CT","CA","NE","KS","NH","ME","AL","DE","NJ","NM","AL","KS","OK","WA","PA","IN","MA","KY","ME","AR","KY","OH","WA","CO","FL","NJ","NH","AL","VA","VT"],[2015,2017,2013,2019,2016,2009,2009,2010,2013,2015,2008,2008,2014,2013,2009,2008,2016,2011,2011,2016,2011,2011,2017,2018,2009,2009,2011,2010,2012,2018,2019,2013,2009,2010,2016,2012,2019,2011,2012,2015,2018,2015,2013,2012,2014,2014,2008,2016,2016,2008],[1891.37,49090.14,18373013.26,37837.5,7812.7,4733.84,5672.58,16669.97,4181.58,38194.71,14919.93,3851.71,8090.96,7771.25,7577.58,null,67624,198151.04,17817251.15,8969.72,2530.8,18204514.85,13914.72,6626.39,2817627.46,74021.63,658.96,2308.99,5385.1,48212.94,47160.08,6125.65,2621.87,19965.32,55589.65,48867.09,143222.34,58747.18,7404.9,6965.83,129683.59,18060472.31,274558.65,19267902.29,6585.28,447843.58,2786576.49,11846.23,1253898.31,70621.02],["Bottles and Cans","On Premises","Bottles and Cans","Kegs and Barrels","On Premises","Bottles and Cans","On Premises","On Premises","Bottles and Cans","Kegs and Barrels","On Premises","Kegs and Barrels","Bottles and Cans","On Premises","On Premises","Bottles and Cans","Bottles and Cans","Bottles and Cans","Kegs and Barrels","On Premises","On Premises","Bottles and Cans","Bottles and Cans","Bottles and Cans","Bottles and Cans","Bottles and Cans","Bottles and Cans","On Premises","On Premises","Bottles and Cans","On Premises","Kegs and Barrels","On Premises","On Premises","On Premises","Kegs and Barrels","Kegs and Barrels","Bottles and Cans","On Premises","Kegs and Barrels","Bottles and Cans","Bottles and Cans","Kegs and Barrels","Bottles and Cans","On Premises","Kegs and Barrels","Bottles and Cans","Kegs and Barrels","Kegs and Barrels","Kegs and Barrels"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>state<\/th>\n      <th>year<\/th>\n      <th>barrels<\/th>\n      <th>type<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>sample_n</span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>filter <span class='op'>=</span> <span class='st'>'top'</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>scrollX <span class='op'>=</span> <span class='cn'>TRUE</span>,
                     pageLength <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,
    caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
      style <span class='op'>=</span> <span class='st'>'caption-side: bottom; text-align: center;'</span>,
     <span class='st'>'Table Name: '</span>, <span class='fu'>htmltools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>em</a></span><span class='op'>(</span><span class='st'>'Beer Awards'</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-38cff54d6a795f55b584" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-38cff54d6a795f55b584">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1990\" data-max=\"2020\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: center;\">\n  Table Name: \n  <em>Beer Awards<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["Gold","Bronze","Gold","Bronze","Bronze","Silver","Bronze","Bronze","Silver","Silver","Bronze","Silver","Silver","Silver","Gold","Bronze","Gold","Silver","Silver","Bronze","Silver","Silver","Gold","Bronze","Gold","Bronze","Gold","Gold","Bronze","Gold","Silver","Gold","Gold","Gold","Silver","Bronze","Bronze","Gold","Silver","Gold","Gold","Gold","Silver","Gold","Silver","Bronze","Gold","Gold","Bronze","Silver"],["Taps Cream Ale","Gordon Biersch Golden Export","CBC Ultimate Weiss","Siberian Night","Pirate's Porter","Kaaterskill","Amnesia","Southampton Saison","El Corn","Old Scratch Amber Lager","Steel Toe Stout","Head Hunter IPA","Breton Blonde","KAZ Lambic","Moozie Milk Stout","Blackberry Table Sour","Blue Moon Honeymoon","Beech Street Bitter","Alice B. Brownie","Pillage Pilsner","McIlhenney's Irish Red","Rock Bottom Brown Ale","DBA","Enchanted Rock Red Ale","Session Black Premium Lager","In-Heat Wheat Hefeweizen","F-Town Amber","Oatmeal Stout","Shiner Bock","St. Ides","Old Style","Schwarzbier","Cave Aged Hennepin","Samuel Adams Double Bock","Breakfast Stout","Bonnie Lee's Best Bitter","Pils","Black IPA","Olympia Dry","Old Rasputin","Red Nectar","Dark Ale","Code Blue","Zumbar Chocolate Coffee Imperial Stout","Dubbel Entendre","Solzhenitsyn","Order in the Port","Extra Special Bitter","Lodgepole Light","Bastogne Blonde Ale"],["TAPS Fish House and Brewery","Gordon Biersch Brewery Restaurant Group","Chicago Brewing Co.","Thirsty Dog Brewing Co.","Sullivan's Black Forest Brew Haus &amp; Grill","West Kill Brewing","Grumpy Troll Brewery, Restaurant &amp; Pizzeria (The)","Southampton Publick House","The Post Brewing Co.","Flying Dog Brewery","Ska Brewing Co.","Fat Head's Brewery &amp; Saloon","Metazoa Brewing Co.","Fremont Brewing Co.","Brink Brewing Co.","Baere Brewing Co.","Blue Moon Brewing Co.","Pizza Port - Carlsbad","Big Horn Brewing Co./CB-Potts","Valhalla Microbrewery &amp; Restaurant","Alpine Beer Co.","Rock Bottom Brewery","Firestone Walker Brewing Co.","Fredericksburg Brewing Co.","Full Sail Brewing at Riverplace","Flying Dog Brewery","Copper Club Brewing Co.","Morgan Territory Brewing","Spoetzl Brewery","McKenzie River Partners","Pabst Brewing Co.","Empire Brewing Co.","Brewery Ommegang","Boston Beer Co.","Founders Brewing Co.","Magnolia Gastropub and Brewery","Kansas City Bier Co.","Cannonball Creek Brewing Co.","Pabst Brewing Co.","North Coast Brewing Co. Inc","Humboldt Brewery","Ground Breaker Brewing","Pacific Coast Brewing Co.","New English Brewing Co.","River's Edge Brewing Co.","Iron Hill Brewery &amp; Restaurant - Media","Pizza Port San Clemente","Russian River Brewing Co.","Prescott Brewing Co.","Rock Bottom Breweries"],["Brea","Broomfield","Las Vegas","Akron","Frankenmuth","West Kill","Mount Horeb","Southampton","Lafayette","Frederick","Durango","North Olmsted","Indianapolis","Fremont","Cincinnati","Denver","Golden","Carlsbad","Westminster","Pittsburgh","Alpine","(San Diego, CA) Louisville","Paso Robles","Fredericksburg","Portland","Denver","Fruita","Antioch","Shiner","San Francisco","Los Angeles","Syracuse","Cooperstown","Boston","Grand Rapids","San Francisco","Kansas City","Golden","San Antonio","Ft. Bragg","Arcata","Portland","Oakland","San Diego","Milford","Media","San Clemente","Guerneville","Prescott","Louisville"],["CA","CO","NV","OH","MI","NY","WI","NY","CO","MD","CO","OH","IN","CA","OH","CO","CO","CA","CO","PA","CA","CO","CA","TX","OR","CO","CO","CA","TX","CA","CA","NY","NY","MA","MI","CA","MO","CO","TX","CA","CA","OR","CA","CA","MI","PA","CA","CA","AZ","CO"],["American-Style Lager/Ale or Cream Ale","Munich Style Helles","German-Style Wheat Ale","Imperial Stout","Robust Porter","Juicy or Hazy Strong Pale Ale","Baltic-Style Porter","French- and Belgian Style Saison","International-Style Dark Lager","American-Style Amber Lager","Sweet Stout","American-Style India Pale Ale","Belgian-Style Blonde Ale or Pale Ale","Belgian Style Specialty Ales","Sweet Stout or Cream Stout","Berliner-Style Weisse","Specialty Honey Lager or Ale","English-Style India Pale Ale","English-Style Brown Ale","Bohemian Style Pilsener","Irish-Style Red Ale","English-Style Brown Ale","Ordinary or Special Bitter","Irish-Style Red Ale","American-Style Dark Lager","South German-Style Hefeweizen/Hefeweissbier","American-Style Amber/Red Ale","Oatmeal Stout","American-Style Dark Lager","Malt Liquors","American-Style Cream Ale","German-Style Schwarzbier","French- and Belgian-Style Saison","German-Style Strong Bock","Coffee Stout or Porter","Ordinary or Special Bitter","German-Style Pilsener","American-Style Black Ale","American Dry Lager","Imperial Stout","American-Style Amber / Red Ale","Gluten-Free Beer","Barley Wine","Coffee Beer","Belgian-Style Dubbel or Quadruple","Aged Beer","American-Style Stout","English-Style (Extra Special) Strong Bitter","American Lager / Ale / Cream Ale","Belgian- and French-Style Ale"],[2001,2009,2004,2006,2009,2019,2007,2007,2019,2008,2009,2010,2017,1997,2020,2017,2006,2006,2005,1999,2004,2011,2011,2007,2009,2006,2017,2006,2014,1990,2013,2002,2004,2005,2018,2011,2020,2014,1992,1999,1999,2017,1998,2015,2015,2018,2012,1999,1996,2010]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>medal<\/th>\n      <th>beer_name<\/th>\n      <th>brewery<\/th>\n      <th>city<\/th>\n      <th>state<\/th>\n      <th>category<\/th>\n      <th>year<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":7},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>Let’s get a better feel for the material type and type fields in the <span style="color: #5196b4;background-color:#f4e4e7"><code>brewing_materials</code></span> dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 5 x 2
  material_type                n
  &lt;chr&gt;                    &lt;int&gt;
1 Grain Products             600
2 Non-Grain Products         480
3 Total Grain products       120
4 Total Non-Grain products   120
5 Total Used                 120</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='fu'>stringr</span><span class='fu'>::</span><span class='fu'><a href='https://stringr.tidyverse.org/reference/case.html'>str_to_lower</a></span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%in%</span> 
           <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'grain products'</span>,
             <span class='st'>'non-grain products'</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>material_type</span>, <span class='va'>type</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 9 x 3
  material_type      type                           n
  &lt;chr&gt;              &lt;chr&gt;                      &lt;int&gt;
1 Grain Products     Barley and barley products   120
2 Grain Products     Corn and corn products       120
3 Grain Products     Malt and malt products       120
4 Grain Products     Rice and rice products       120
5 Grain Products     Wheat and wheat products     120
6 Non-Grain Products Hops (dry)                   120
7 Non-Grain Products Hops (used as extracts)      120
8 Non-Grain Products Other                        120
9 Non-Grain Products Sugar and syrups             120</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>type</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 12 x 2
   type                           n
   &lt;chr&gt;                      &lt;int&gt;
 1 Barley and barley products   120
 2 Corn and corn products       120
 3 Hops (dry)                   120
 4 Hops (used as extracts)      120
 5 Malt and malt products       120
 6 Other                        120
 7 Rice and rice products       120
 8 Sugar and syrups             120
 9 Total Grain products         120
10 Total Non-Grain products     120
11 Total Used                   120
12 Wheat and wheat products     120</code></pre>
</div>
<p>Ok, and the other interesting one is the field <code>brewer_size</code> in the <span style="color: #5196b4;background-color:#f4e4e7"><code>brewer_size</code></span> dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewer_size</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>brewer_size</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 16 x 2
   brewer_size                        n
   &lt;chr&gt;                          &lt;int&gt;
 1 1 to 1,000 Barrels                11
 2 1,000,000 to 6,000,000 Barrels     1
 3 1,000,001 to 1,999,999 Barrels     9
 4 1,000,001 to 6,000,000 Barrels     1
 5 1,001 to 7,500 Barrels            11
 6 100,001 to 500,000 Barrels        11
 7 15,001 to 30,000 Barrels          11
 8 2,000,000 to 6,000,000 Barrels     9
 9 30,001 to 60,000 Barrels          11
10 500,001 to 1,000,000 Barrels      11
11 6,000,001 Barrels and Over        11
12 60,001 to 100,000 Barrels         11
13 7,501 to 15,000 Barrels           11
14 Total                             11
15 Under 1 Barrel                     6
16 Zero Barrels                       1</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#brewer_size %&gt;% count(brewer_size, wt = n_of_brewers)</span>
</code></pre>
</div>
</div>
<p>Notice that the brewer_size variable has a few categories which are slightly different.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">brewer_size</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1,000,000 to 6,000,000 Barrels</td>
</tr>
<tr class="even">
<td style="text-align: center;">1,000,001 to 6,000,000 Barrels</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1,000,001 to 1,999,999 Barrels</td>
</tr>
<tr class="even">
<td style="text-align: center;">2,000,000 to 6,000,000 Barrels</td>
</tr>
</tbody>
</table>
<p>If you look closely it seems as though <em>1,000,000 to 6,000,000 Barrels</em> may be a typo, since <em>500,001 to 1,000,000 Barrels</em> is already a category in that year.</p>
<p>It also looks as if <em>1,000,001 to 6,000,000 Barrels</em> was split into <em>1,000,001 to 1,999,999 Barrels</em> and <em>2,000,000 to 6,000,000 Barrels</em> from 2011 onwards.</p>
<h2 id="convert-variable-to-factor">Convert variable to factor</h2>
<p>To convert a variable to a factor we use <span style="color: #5196b4;background-color:#f4e4e7"><code>factor()</code></span> or <span style="color: #5196b4;background-color:#f4e4e7"><code>as.factor()</code></span>. This converts each distinct category to some number placeholder in the background.</p>
<h3 id="factor">factor()</h3>
<ol type="1">
<li><p>Convert a character to a factor:</p>
<ol type="a">
<li><code>df$var &lt;- factor(df$var)</code></li>
<li><code>df &lt;- df %&gt;% mutate(var = factor(var))</code></li>
</ol></li>
<li><p>To figure out what number placeholder a category was given behind the scenes, use <code>levels()</code>.</p></li>
<li><p>The default order of <code>factor()</code> is alphabetical.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='co'># use dplyr::pull which acts like $ to get the variable</span>
   <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='co'># let's us get the number placeholder attached to each category</span>
   <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Non-Grain Products&quot;      
[3] &quot;Total Grain products&quot;     &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='co'># can also use count() to count how many in each level</span>
   <span class='fu'>count</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code># A tibble: 5 x 2
  material_type                n
  &lt;fct&gt;                    &lt;int&gt;
1 Grain Products             600
2 Non-Grain Products         480
3 Total Grain products       120
4 Total Non-Grain products   120
5 Total Used                 120</code></pre>
</div></li>
<li><p>What if I wanted to specify the levels myself? I could specify the <em>levels</em> in an argument as shown.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span>,
                           levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Grain Products"</span>,
                                      <span class='st'>"Total Grain products"</span>,
                                      <span class='st'>"Non-Grain Products"</span>,
                                      <span class='st'>"Total Non-Grain products"</span>,
                                      <span class='st'>"Total Used"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Total Grain products&quot;    
[3] &quot;Non-Grain Products&quot;       &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
</div></li>
<li><p>What if I wanted to include levels that may exist in future datasets, but don’t as yet in the dataset we have? Let’s try it with adding a <em>Not Applicable</em> level which is not in our dataset’s <code>material_type</code> variable.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span>,
                           levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Grain Products"</span>,
                                      <span class='st'>"Total Grain products"</span>,
                                      <span class='st'>"Non-Grain Products"</span>,
                                      <span class='st'>"Total Non-Grain products"</span>,
                                      <span class='st'>"Total Used"</span>,
                                      <span class='st'>"Not Applicable"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Total Grain products&quot;    
[3] &quot;Non-Grain Products&quot;       &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;               &quot;Not Applicable&quot;          </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span>,
                           levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Grain Products"</span>,
                                      <span class='st'>"Total Grain products"</span>,
                                      <span class='st'>"Non-Grain Products"</span>,
                                      <span class='st'>"Total Non-Grain products"</span>,
                                      <span class='st'>"Total Used"</span>,
                                      <span class='st'>"Not Applicable"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
   <span class='co'># we can also count as before but notice that</span>
   <span class='co'># one category that has no data is missing -</span>
   <span class='co'># the artificial `Not Applicable` we added</span>
   <span class='fu'>count</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code># A tibble: 5 x 2
  material_type                n
  &lt;fct&gt;                    &lt;int&gt;
1 Grain Products             600
2 Total Grain products       120
3 Non-Grain Products         480
4 Total Non-Grain products   120
5 Total Used                 120</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span>,
                           levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Grain Products"</span>,
                                      <span class='st'>"Total Grain products"</span>,
                                      <span class='st'>"Non-Grain Products"</span>,
                                      <span class='st'>"Total Non-Grain products"</span>,
                                      <span class='st'>"Total Used"</span>,
                                      <span class='st'>"Not Applicable"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
   <span class='co'># we can get all categories by adding the .drop = FALSE</span>
   <span class='fu'>count</span><span class='op'>(</span><span class='va'>material_type</span>, .drop <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code># A tibble: 6 x 2
  material_type                n
  &lt;fct&gt;                    &lt;int&gt;
1 Grain Products             600
2 Total Grain products       120
3 Non-Grain Products         480
4 Total Non-Grain products   120
5 Total Used                 120
6 Not Applicable               0</code></pre>
</div></li>
</ol>
<h3 id="as.factor">as.factor()</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
